<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CKEditor 5 – classic editor build – development sample</title>
	<style>
		body {
			max-width: 800px;
			margin: 20px auto;
		}
	</style>
</head>
<body>

<h1>CKEditor 5 – classic editor build – development sample</h1>
<button onclick="check()"">cac</button>
<button onclick="check2()">cac2</button>
<button onclick="check3()">cac3</button>
<button onclick="console.log(editor.getData())">Data</button>
<div id="editor">
	

</div>

<script src="../build/ckeditor.js"></script>
<script>
	let check = () => {
		let url = `http://ntv-api.ngn.com.vn/media/5fe0983dd6157530b19a19d9_BookCover1.png`
		let width = '200px'
		let height = '200px'
		document.getElementsByClassName("image-inside")[0].src = url
		document.getElementsByClassName("image-inside")[0].style.width = width
		document.getElementsByClassName("image-inside")[0].style.height = height
		//.setAttribute("style",`background-image: ${url};width: ${width};height: ${height}`)		
	}
	let check2 = () => {
		let url = `http://ntv-api.ngn.com.vn/media/5fe58ba0d6157530b19abb9c_icons8-google_plus.svg`
		let width = '200px'
		let height = '200px'
		document.getElementsByClassName("image-inside")[1].src = url
		document.getElementsByClassName("image-inside")[1].style.width = width
		document.getElementsByClassName("image-inside")[1].style.height = height
		//.setAttribute("style",`background-image: ${url};width: ${width};height: ${height}`)		
	}
	let check3 = () => {
		let url = `http://ntv-api.ngn.com.vn/media/5fe58b39d6157530b19abb51_5a392b02733f003c3feea6cd5e140c53.webp`
		let width = '200px'
		let height = '200px'
		document.getElementsByClassName("image-inside")[2].src = url
		document.getElementsByClassName("image-inside")[2].style.width = width
		document.getElementsByClassName("image-inside")[2].style.height = height
		//.setAttribute("style",`background-image: ${url};width: ${width};height: ${height}`)		

	}
</script>
<script>
	ClassicEditor.create( document.querySelector( '#editor' ) )
		.then( editor => {
			window.editor = editor;

			// editor.model.schema.extend( 'image', { allowAttributes: 'dSource' } );

			// editor.conversion.for( 'upcast' ).attributeToAttribute( {
			// 	view: 'data-source',
			// 	model: 'dSource'
			// } );

			// editor.conversion.for( 'downcast' ).add( dispatcher => {
			// 	editor.conversion.for( 'dataDowncast' ).add( dispatcher => {
			// 		dispatcher.on(
			// 			'attribute:linkHref',
			// 			( evt, data, conversionApi ) => {
			// 				// if ( !conversionApi.consumable.test( data.item, 'attribute:linkHref' ) ) {
			// 				// 	return;
			// 				// }
			// 				// if ( data.attributeNewValue ) {
			// 				// 	data.attributeNewValue += `#time=${ ( new Date() ).getTime() }`;
			// 				// }
			// 			},
			// 			{ priority: 'high' }
			// 		);
			// 	} );
			// } );
		} )
		.catch( error => {
			console.error( 'There was a problem initializing the editor.', error );
		} );
</script>

</body>
</html>
